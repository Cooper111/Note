- [mysql 用Group by分组后,取每组的前几条记录的方法和理解](<https://blog.csdn.net/junzi528/article/details/84404412>)

  下面是我对着敲的代码

```mysql
mysql> select * from StudentGrade a where (
    -> select count(1) from StudentGrade b
    ->  where b.subId = a.subId
    -> and b.grade > a.grade
    -> )<=2
    -> order by a.subId asc, a.grade desc;
+-------+-------+-------+
| stuId | subId | grade |
+-------+-------+-------+
| 001   |     1 |    97 |
| 003   |     1 |    93 |
| 002   |     1 |    92 |
| 003   |     2 |    95 |
| 002   |     2 |    80 |
| 004   |     2 |    78 |
| 004   |     3 |    87 |
| 003   |     3 |    85 |
| 001   |     3 |    70 |
+-------+-------+-------+
9 rows in set (0.07 sec)
```

- [mysql 分组同时分页](<https://blog.csdn.net/weixin_42085115/article/details/90765233>)

  ```mysql
  mysql> select id,title,pid,create_time,update_time,status,sort from video v1 where(
  	select count(1) from video v2 where v1.pid =v2.pid
  ) order by v1.pid,v1.id;
  +----+----------------+-----+-------------+-------------+--------+------+
  | id | title          | pid | create_time | update_time | status | sort |
  +----+----------------+-----+-------------+-------------+--------+------+
  |  3 | 恐龙之谜       |   3 |  1557715954 |  1557718230 |      1 |    4 |
  | 10 | 外星生物       |   3 |  1557715954 |  1559206632 |      1 |    2 |
  |  4 | 故宫的历史     |   4 |  1557715954 |  1557718230 |      1 |    3 |
  |  1 | 皇帝和炎帝     |   5 |  1557715954 |  1557718230 |      1 |    2 |
  |  2 | 大禹治水       |   5 |  1557715954 |  1557718230 |      1 |    5 |
  |  6 | 海洋有多大     |   5 |  1557715954 |  1557718230 |      1 |    2 |
  |  7 | 海洋生物       |   5 |  1557715954 |  1559206671 |      1 |    2 |
  |  8 | 走进物理       |   6 |  1557715954 |  1559206655 |      1 |    2 |
  | 11 | 牛顿           |   6 |  1558754832 |  1559206625 |      1 |    1 |
  |  5 | 火星           |   7 |  1557715954 |  1559287924 |      1 |    1 |
  |  9 | 宇宙介绍       |   7 |  1557715954 |  1559206643 |      1 |    2 |
  | 12 | 真的有外星人吗 |   7 |  1559202369 |  1559287998 |      1 |    1 |
  +----+----------------+-----+-------------+-------------+--------+------+
  12 rows in set (0.15 sec)
  ```

  